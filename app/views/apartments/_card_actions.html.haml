- if policy(:user).owner?
  .card-footer
    = link_to 'Editer', edit_apartment_path(apartment.id), class: "button is-info is-light"
    = button_to 'Supprimer', apartment_path(apartment.id), method: :delete, class: "button is-danger", form: { data: { turbo_confirm: 'Are you sure?' } }, input_html:{'data-confirm': 'Are you sure you want to delete this?'}

- elsif policy(:user).tenant? || policy(:user).public?
  .card-footer
    = link_to "Louer", new_booking_path(apartment_id: apartment.id), remote: true, class: "button has-background-link-light"

%script(type="module")
  :plain
    document.addEventListener('DOMContentLoaded', () => {
      const confirmHandler = (event) => {
        const message = event.target.getAttribute('data-confirm');
        if (!confirm(message)) {
          event.preventDefault();
        }
      };

      document.querySelectorAll('[data-confirm]').forEach((element) => {
        element.addEventListener('click', confirmHandler);
      });
    });
